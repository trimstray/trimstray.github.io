---
layout: post
title: "Tar + pigz - kopia systemu"
date: 2016-04-09 14:18:57
categories: [PL, backup]
tags: publications
comments: false
favorite: false
---

Czasami zdarza mi się wykonać kopię systemu poniższym sposobem. Procedura wygląda tak:

```bash
tar czvpf /mnt/system-$(date +%d%m%Y%s).tgz --directory=/ --exclude=proc --exclude=sys \
--exclude=dev --exclude=mnt .
```

Jeżeli maszyna posiada więcej niż jeden rdzeń można użyć polecenia `pigz`, które działa wielowątkowo (pamiętajmy o usunięciu opcji `-z`):

```bash
tar cvpf /backup/snapshot-$(date +%d%m%Y%s).tgz --directory=/mnt/system \
--exclude=proc/* --exclude=sys/* --exclude=dev/* \
--exclude=mnt/* --exclude=tmp/* --use-compress-program=pigz .
```
